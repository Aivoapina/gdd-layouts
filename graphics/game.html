<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>GDD Game Layout</title>

    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/game-layout/game-layout-common.css">

    <!--Layout-specific CSS file is updated via the layout change Javascript file below.-->
    <link id="layout-css-file" rel="stylesheet" href="css/game-layout/">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.5.0/flv.min.js"></script>
    <script>
        let offlineMode = false;
        let css = "css/game-layout/16_9-1p.css";
        if(location.hash) {
            css = "css/game-layout/"+location.hash.substr(1)+".css";
        }
        $("#layout-css-file").attr("href", css);
        $(window).on("hashchange", function(e) {
            css = "css/game-layout/"+location.hash.substr(1)+".css";
            $("#layout-css-file").attr("href", css);
        });
    </script>
    <script src="js/utils.js"></script>
    <script src="js/donations.js"></script>
    <script src="js/game-layout/run-info.js"></script>
    <script src="js/game-layout/timer.js"></script>
</head>
<body>

<!--Charity logo.-->
<div id="charity-logo-container">
    <img id="charity-logo" src="img/charity-logo.png" alt="Charity logo">
</div>

<!--Mushy logo with event name.-->
<div id="event-logo-container">
    <img id="event-logo" src="img/logo.png" alt="Logo">
    <span id="event-logo-name">GDD</span>
    <span id="event-logo-year">IX</span>
</div>

<!--Donation total.-->
<div id="donation-container">
    <div id="donation-event-name">GDD IX</div>
    <div id="donation-total"></div>
</div>

<!--Timer.-->
<div id="timer-label">Time</div>
<div id="timer"></div>

<!--Game details.-->
<div id="game-details">
    <div id="game-name"></div>
    <!--div class="game-detail-container" id="category-container">
        <span class="game-detail-label" id="category-label">Category:</span>
        <span class="game-detail" id="category"></span>
    </div>
    <div class="game-detail-container" id="platform-container">
        <span class="game-detail-label" id="platform-label">System:</span>
        <span class="game-detail" id="platform"></span>
    </div>
    <div class="game-detail-container" id="year-container">
        <span class="game-detail-label" id="year-label">Released:</span>
        <span class="game-detail" id="year"></span>
    </div>
    <div class="game-detail-container" id="estimate-container">
        <span class="game-detail-label" id="estimate-label">Estimate:</span>
        <span class="game-detail" id="estimate"></span>
    </div-->
    <div class="game-detail-container">
        <span class="game-detail" id="category"></span>,
        <span class="game-detail" id="platform"></span>,
        <span style="white-space: nowrap">
            <span class="game-detail-label" id="estimate-label">Tavoite:</span>
            <span class="game-detail" id="estimate"></span>
        </span>
    </div>
</div>

<!--Runner details.-->
<div class="runner-details" id="runner-details1">
    <div class="runner-name" id="runner-name1"></div>
    <div class="finish-time" id="finish-time1"></div>
</div>
<div class="runner-details" id="runner-details2">
    <div class="runner-name" id="runner-name2"></div>
    <div class="finish-time" id="finish-time2"></div>
</div>
<div class="runner-details" id="runner-details3">
    <div class="runner-name" id="runner-name3"></div>
    <div class="finish-time" id="finish-time3"></div>
</div>
<div class="runner-details" id="runner-details4">
    <div class="runner-name" id="runner-name4"></div>
    <div class="finish-time" id="finish-time4"></div>
</div>

<!--Game feed containers.-->
<div class="game-feed" id="game-feed1"></div>
<div class="game-feed" id="game-feed2"></div>
<div class="game-feed" id="game-feed3"></div>
<div class="game-feed" id="game-feed4"></div>

<div id="custom"></div>
<script>
    const customReplicant = nodecg.Replicant('custom', 'gdd-layouts');
    customReplicant.on('change', (newVal, oldVal) => {
        $('#custom').html(newVal);
    });
</script>

</body>
</html>
